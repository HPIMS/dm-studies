key: cramp
consentId: ehive-cramp

active: true
openEnrollment: true
visibility: public

irb: STUDY-22-01145
pi: Erwin Bottinger MD
studyEmail: ehivecramp@mssm.edu

platform:
  - ios

name: "CRAMP: Characterizing Resilience and Menstrual Pain"

shortDescription: Help us discover the relationship between resilience and menstruation related pain.

longDescription: The purpose of this research study is to understand the relationship 
  between stress resilience, social network and menstruation related pain (dysmenorrhea)
  in the hopes of contributing to development of interventions to help patients with dysmenorrhea.
  In the study, we collect data through brief app-based surveys, audio and video recording,
  and from your wearable device.

notes: []

imageId: study-cramp

timeResponsibility:
  time: 15
  timeUnits: minutes
  timePeriod: daily

surveys:
  # THIS WILL BECOME THE INTRO VIDEO!
  - key: intro
    # TODO: REMOVE ME!
    schedule:
      type: PERIOD
      period: ALWAYS
    # TODO: END
    rank: 0

  - key: demographics
    # TODO: REMOVE ME!
    schedule:
      type: PERIOD
      period: ALWAYS
    # TODO: END
    rank: 10
    # triggers:
    #   - action: SHOW
    #     condition:
    #       - type: COMPLETED
    #         resource: cramp::intro
    #         operator: ">"
    #         score: 0

  - key: general-health
    # TODO: REMOVE ME!
    schedule:
      type: PERIOD
      period: ALWAYS
    # TODO: END
    rank: 20
    # triggers:
    #   - action: SHOW
    #     condition:
    #       - type: COMPLETED
    #         resource: cramp::intro
    #         operator: ">"
    #         score: 0

  - key: menstrual-health
    # TODO: REMOVE ME!
    schedule:
      type: PERIOD
      period: ALWAYS
    # TODO: END
    rank: 30
    # triggers:
    #   - action: SHOW
    #     condition:
    #       - type: COMPLETED
    #         resource: cramp::intro
    #         operator: ">"
    #         score: 0

  - key: menstrual-pain
    # TODO: REMOVE ME!
    schedule:
      type: PERIOD
      period: ALWAYS
    # TODO: END
    rank: 40
    # triggers:
    #   - action: SHOW
    #     condition:
    #       - type: COMPLETED
    #         resource: cramp::intro
    #         operator: ">"
    #         score: 0
  # TODO: USE CALCULATION TRIGGER!
  #   triggers:
  #   - action: SHOW
  #     condition:
  #       - type: CALCULATION
  #         fn: questionnaire-response-value
  #         args:
  #           questionnaire: cramp::menstrual-health
  #           section: health
  #           question: menses_pain
  #           operator: =
  #           value: yes

  - key: pregnancy
    # TODO: REMOVE ME!
    schedule:
      type: PERIOD
      period: ALWAYS
    # TODO: END
    rank: 50
    # triggers:
    #   - action: SHOW
    #     condition:
    #       - type: COMPLETED
    #         resource: cramp::intro
    #         operator: ">"
    #         score: 0

  - key: strain
    # TODO: REMOVE ME!
    schedule:
      type: PERIOD
      period: ALWAYS
    # TODO: END
    rank: 60
    # schedule:
    #   type: PERIOD
    #   period: ONCE
    #   delay: 1
    #   delayUnits: DAYS
    # triggers:
    #   - action: SHOW
    #     condition:
    #       type: AND
    #       tasks:
    #         - type: COMPLETED
    #           resource: cramp::demographics
    #           operator: ">"
    #           score: 0
    #         - type: COMPLETED
    #           resource: cramp::general-health
    #           operator: ">"
    #           score: 0
    #         - type: COMPLETED
    #           resource: cramp::menstrual-health
    #           operator: ">"
    #           score: 0
    #         - type: COMPLETED
    #           resource: cramp::pregnancy
    #           operator: ">"
    #           score: 0

  - key: rsa
    # TODO: REMOVE ME!
    schedule:
      type: PERIOD
      period: ALWAYS
    # TODO: END
    rank: 70
    # schedule:
    #   type: PERIOD
    #   period: ONCE
    #   delay: 2
    #   delayUnits: DAYS
    # triggers:
    #   - action: SHOW
    #     condition:
    #       type: AND
    #       tasks:
    #         - type: COMPLETED
    #           resource: cramp::demographics
    #           operator: ">"
    #           score: 0
    #         - type: COMPLETED
    #           resource: cramp::general-health
    #           operator: ">"
    #           score: 0
    #         - type: COMPLETED
    #           resource: cramp::menstrual-health
    #           operator: ">"
    #           score: 0
    #         - type: COMPLETED
    #           resource: cramp::pregnancy
    #           operator: ">"
    #           score: 0

  - key: bfi-10
    # TODO: REMOVE ME!
    schedule:
      type: PERIOD
      period: ALWAYS
    # TODO: END
    rank: 80
    # schedule:
    #   type: PERIOD
    #   period: ONCE
    #   delay: 3
    #   delayUnits: DAYS
    # triggers:
    #   - action: SHOW
    #     condition:
    #       type: AND
    #       tasks:
    #         - type: COMPLETED
    #           resource: cramp::demographics
    #           operator: ">"
    #           score: 0
    #         - type: COMPLETED
    #           resource: cramp::general-health
    #           operator: ">"
    #           score: 0
    #         - type: COMPLETED
    #           resource: cramp::menstrual-health
    #           operator: ">"
    #           score: 0
    #         - type: COMPLETED
    #           resource: cramp::pregnancy
    #           operator: ">"
    #           score: 0

  - key: lsns
    # TODO: REMOVE ME!
    schedule:
      type: PERIOD
      period: ALWAYS
    # TODO: END
    rank: 90
    # schedule:
    #   type: PERIOD
    #   period: ONCE
    #   delay: 4
    #   delayUnits: DAYS
    # triggers:
    #   - action: SHOW
    #     condition:
    #       type: AND
    #       tasks:
    #         - type: COMPLETED
    #           resource: cramp::demographics
    #           operator: ">"
    #           score: 0
    #         - type: COMPLETED
    #           resource: cramp::general-health
    #           operator: ">"
    #           score: 0
    #         - type: COMPLETED
    #           resource: cramp::menstrual-health
    #           operator: ">"
    #           score: 0
    #         - type: COMPLETED
    #           resource: cramp::pregnancy
    #           operator: ">"
    #           score: 0

  - key: ucls-ls
    # TODO: REMOVE ME!
    schedule:
      type: PERIOD
      period: ALWAYS
    # TODO: END
    rank: 100
    # schedule:
    #   type: PERIOD
    #   period: ONCE
    #   delay: 4
    #   delayUnits: DAYS
    # triggers:
    #   - action: SHOW
    #     condition:
    #       type: AND
    #       tasks:
    #         - type: COMPLETED
    #           resource: cramp::demographics
    #           operator: ">"
    #           score: 0
    #         - type: COMPLETED
    #           resource: cramp::general-health
    #           operator: ">"
    #           score: 0
    #         - type: COMPLETED
    #           resource: cramp::menstrual-health
    #           operator: ">"
    #           score: 0
    #         - type: COMPLETED
    #           resource: cramp::pregnancy
    #           operator: ">"
    #           score: 0

  - key: sei-hs
    # TODO: REMOVE ME!
    schedule:
      type: PERIOD
      period: ALWAYS
    # TODO: END
    rank: 110
    # schedule:
    #   type: PERIOD
    #   period: ONCE
    #   delay: 4
    #   delayUnits: DAYS
    # triggers:
    #   - action: SHOW
    #     condition:
    #       type: AND
    #       tasks:
    #         - type: COMPLETED
    #           resource: cramp::demographics
    #           operator: ">"
    #           score: 0
    #         - type: COMPLETED
    #           resource: cramp::general-health
    #           operator: ">"
    #           score: 0
    #         - type: COMPLETED
    #           resource: cramp::menstrual-health
    #           operator: ">"
    #           score: 0
    #         - type: COMPLETED
    #           resource: cramp::pregnancy
    #           operator: ">"
    #           score: 0

  - key: rs-14
    # TODO: REMOVE ME!
    schedule:
      type: PERIOD
      period: ALWAYS
    # TODO: END
    rank: 120
    # schedule:
    #   type: PERIOD
    #   period: ONCE
    #   delay: 5
    #   delayUnits: DAYS
    # triggers:
    #   - action: SHOW
    #     condition:
    #       type: AND
    #       tasks:
    #         - type: COMPLETED
    #           resource: cramp::demographics
    #           operator: ">"
    #           score: 0
    #         - type: COMPLETED
    #           resource: cramp::general-health
    #           operator: ">"
    #           score: 0
    #         - type: COMPLETED
    #           resource: cramp::menstrual-health
    #           operator: ">"
    #           score: 0
    #         - type: COMPLETED
    #           resource: cramp::pregnancy
    #           operator: ">"
    #           score: 0

  - key: pss-10-pre
    # TODO: REMOVE ME!
    schedule:
      type: PERIOD
      period: ALWAYS
    # TODO: END
    rank: 130
  #   triggers:
  #   - action: SHOW
  #     condition:
  #       - type: CALCULATION
  #         Today in m + L - 14 : m + L - 7;
  #         fn: cramp::ovulation-phase
  #         args: {}

  - key: dass-21-pre
    # TODO: REMOVE ME!
    schedule:
      type: PERIOD
      period: ALWAYS
    # TODO: END
    rank: 140
  #   triggers:
  #   - action: SHOW
  #     condition:
  #       - type: CALCULATION
  #         Today in m + L - 14 : m + L - 7;
  #         fn: cramp::ovulation-phase
  #         args: {}

  - key: sss-8-pre
    # TODO: REMOVE ME!
    schedule:
      type: PERIOD
      period: ALWAYS
    # TODO: END
    rank: 150
  #   triggers:
  #   - action: SHOW
  #     condition:
  #       - type: CALCULATION
  #         Today in m + L - 14 : m + L - 7;
  #         fn: cramp::ovulation-phase
  #         args: {}

  # - key: dst
  #   rank: 160
  #   schedule:
  #     type: PERIOD
  #     period: ONCE
  #     delay: 1
  #     delayUnits: DAYS
  #   triggers:
  #     - action: SHOW
  #       condition:
  #         type: AND
  #         tasks:
  #           - type: CALCULATION
  #             Today in m + L - 14 : m + L - 7;
  #             fn: cramp::ovulation-phase
  #             args: {}
  #           - type: COMPLETED
  #             resource: cramp::pss-10-pre
  #             operator: ">"
  #             score: 0
  #           - type: COMPLETED
  #             resource: cramp::dass-21-pre
  #             operator: ">"
  #             score: 0
  #           - type: COMPLETED
  #             resource: cramp::sss-8-pre
  #             operator: ">"
  #             score: 0

  - key: daily-check-in
    # TODO: REMOVE ME!
    schedule:
      type: PERIOD
      period: ALWAYS
    # TODO: END
    rank: 170
    # triggers:
    #   - action: SHOW
    #     condition:
    #       - type: COMPLETED
    #         resource: cramp::dst
    #         operator: ">"
    #         score: 0
      # - action: HIDE
      #   condition:
      #     - type: CALCULATION
      #       fn: cramp::cycle-complete
      #       args: {}

  - key: ema
    # TODO: REMOVE ME!
    schedule:
      type: PERIOD
      period: ALWAYS
    # TODO: END
    rank: 180
    # triggers:
    #   - action: SHOW
    #     condition:
    #       - type: COMPLETED
    #         resource: cramp::dst
    #         operator: ">"
    #         score: 0
      # - action: HIDE
      #   condition:
      #     - type: CALCULATION
      #       fn: cramp::cycle-complete
      #       args: {}

  # - key: pss-10-post
  #   rank: 190
    # schedule:
    #   type: PERIOD
    #   period: ONCE
    #   delay: 7
    #   delayUnits: DAYS
    # triggers:
    #   - action: SHOW
    #     condition:
    #       - type: CALCULATION
    #         fn: questionnaire-response-value
    #         args:
    #           questionnaire: cramp::daily-check-in
    #           section: bleeding
    #           question: menses_today
    #           operator: =
    #           value: yes

  # - key: dass-21-post
  #   rank: 200
    # schedule:
    #   type: PERIOD
    #   period: ONCE
    #   delay: 7
    #   delayUnits: DAYS
    # triggers:
    #   - action: SHOW
    #     condition:
    #       - type: CALCULATION
    #         fn: questionnaire-response-value
    #         args:
    #           questionnaire: cramp::daily-check-in
    #           section: bleeding
    #           question: menses_today
    #           operator: =
    #           value: yes

  # - key: sss-8-post
  #   rank: 210
    # schedule:
    #   type: PERIOD
    #   period: ONCE
    #   delay: 7
    #   delayUnits: DAYS
    # triggers:
    #   - action: SHOW
    #     condition:
    #       - type: CALCULATION
    #         fn: questionnaire-response-value
    #         args:
    #           questionnaire: cramp::daily-check-in
    #           section: bleeding
    #           question: menses_today
    #           operator: =
    #           value: yes

  - key: promis-pain-interference-6b-v1.0
    rank: 220
    # schedule:
    #   type: PERIOD
    #   period: ONCE
    #   delay: 7
    #   delayUnits: DAYS
    # triggers:
    #   - action: SHOW
    #     condition:
    #       - type: CALCULATION
    #         fn: questionnaire-response-value
    #         args:
    #           questionnaire: cramp::daily-check-in
    #           section: bleeding
    #           question: menses_today
    #           operator: =
    #           value: yes

  - key: final-check-in
    # TODO: REMOVE ME!
    schedule:
      type: PERIOD
      period: ALWAYS
    # TODO: END
    rank: 230
    # triggers:
    #   - action: SHOW
    #     condition:
    #       - type: CALCULATION
    #         fn: cramp::cycle-complete
    #         args: {}

  # - key: dona
  #   rank: 240
  #   triggers:
  #     - action: SHOW
  #       condition:
  #         - type: CALCULATION
  #           fn: cramp::cycle-complete
  #           args: {}

  # TODO: THESE GET ATTACHED TO DST!
  - key: mood
    # TODO: REMOVE ME!
    schedule:
      type: PERIOD
      period: ALWAYS
    # TODO: END
    rank: 998
  - key: panas-sf
    # TODO: REMOVE ME!
    schedule:
      type: PERIOD
      period: ALWAYS
    # TODO: END
    rank: 999